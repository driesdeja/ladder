{% extends 'players/base.html' %}
{% load round_custom_tags %}
{% block content %}
    {% include 'round/header-banner.html' with ladder=ladder_round.ladder %}
    {% include 'round/ladder-admin-nav.html' with page_name='schedule-matches' ladder=ladder_round.ladder ladder_round=ladder_round %}
    <div class="container">
        <form id="match-schedule-form" method="POST">
            {% csrf_token %}
            <input type="hidden" id="scheduled-matches" name="scheduled-matches">
        </form>
        <div class="row">
            <button class="button" id="save-matcher" name="save-matcher" onclick="saveMatches()">Save</button>
        </div>
        <div class="row">
            <div class="col-8">
                {% for day in schedule.match_days|as_list:',' %}
                    <div class="match-day">
                        <h2>{{ day|date_for_day_of_year:2020|date:'l j F, Y' }}</h2>
                        <input type="hidden" class="match-day-date" value="{{ day }}">
                        <div id="time-slots">
                            {% for time in schedule.number_of_timeslots|times %}
                                <div id="time-slot" class="time-slot">
                                    <div class="time-row">
                                        <div class="match-time">
                                            {% timeslot schedule.start_time forloop.counter0 schedule.time_interval as times_slot_value %}
                                            <input type="time" value="{{ times_slot_value|date:'h:i' }}">
                                        </div>
                                    </div>
                                    <div class="matches-row">
                                        {% for court in schedule.number_of_courts|times %}
                                            <div class="match-time-slot">

                                            </div>
                                        {% endfor %}
                                    </div>
                                </div>
                            {% endfor %}
                        </div>
                    </div>
                {% endfor %}
            </div>
            <div class="col-4">
                <div id="matches" class="matches">
                    {% for match in matches %}
                        <div id="schedulable-match-{{ match.id }}" class="schedulable-match" draggable="true">
                            <span class="player">{{ match.player1.first_name }} {{ match.player1.last_name }}</span><span
                                class="vs"> vs. </span><span
                                class="player">{{ match.player2.first_name }} {{ match.player2.last_name }}</span>
                            <input type="hidden" id="match-id" value="{{ match.id }}">
                        </div>

                    {% endfor %}

                </div>
            </div>
        </div>

    </div>


{% endblock content %}